{"version":3,"sources":["src/keyboarder.js","src/constants.js","src/Player.js","src/SmallStar.js","src/Star.js","src/invaders.js","src/game.js"],"names":["Keyboarder","keyState","window","addEventListener","e","keyCode","bind","callback","KEYS","LEFT","RIGHT","UP","DOWN","S","canvas","document","getElementById","screenSize","x","width","y","height","Player","game","keyboard","center","size","isDown","context","fillStyle","fillRect","SmallStar","Math","floor","random","Star","Invaders","speed","startGame","Game","start","canvasId","getContext","player","invaders","i","push","star","smallstar","ticks","tick","update","draw","requestAnimationFrame","forEach","clearRect"],"mappings":"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","file":"game.5ea2b669.map","sourceRoot":"..","sourcesContent":["class Keyboarder {\n  constructor () {\n    this.keyState = {}\n\n    window.addEventListener('keydown', function (e) {\n      this.keyState[e.keyCode] = true\n    }.bind(this))\n\n    window.addEventListener('keyup', function (e) {\n      this.keyState[e.keyCode] = false\n    }.bind(this))\n  }\n\n  isDown (keyCode) {\n    return this.keyState[keyCode] === true\n  }\n\n  on (keyCode, callback) {\n    window.addEventListener('keydown', function (e) {\n      if (e.keyCode === keyCode) {\n        callback()\n      }\n    })\n  }\n}\n\nKeyboarder.KEYS = { LEFT: 37, RIGHT: 39, UP: 38, DOWN: 40, S: 83 }\n\nexport default Keyboarder\n","export const canvas = document.getElementById('game-canvas')\nexport const screenSize = { x: canvas.width, y: canvas.height\n}\n","import Keyboarder from './keyboarder'\nimport { screenSize, canvas } from './constants'\nclass Player {\n  constructor (game) {\n    this.game = game\n    this.keyboard = new Keyboarder()\n    // this.bullet = new Bullet()\n    this.center = {\n      x: screenSize.x / 2 - 10,\n      y: 520\n    }\n    this.size = {\n      x: 20,\n      y: 20\n    }\n  }\n  update () {\n    if (this.keyboard.isDown(Keyboarder.KEYS.LEFT)) {\n      this.center.x -= 5\n      if (this.center.x < 0) this.center.x = 550\n    }\n    if (this.keyboard.isDown(Keyboarder.KEYS.RIGHT)) {\n      this.center.x += 5\n      if (this.center.x > canvas.width) this.center.x = 0\n    }\n    if (this.keyboard.isDown(Keyboarder.KEYS.UP)) {\n      this.center.y -= 3\n      if (this.center.y < 0) this.center.y = 530\n    }\n    if (this.keyboard.isDown(Keyboarder.KEYS.DOWN)) {\n      this.center.y += 3\n      if (this.center.y >= 530) this.center.y = 530\n    }\n  }\n\n  draw () {\n    this.game.context.fillStyle = 'grey'\n    this.game.context.fillRect(this.center.x, this.center.y, this.size.x, this.size.y)\n  }\n}\nexport default Player\n","import Keyboarder from './keyboarder'\n\nclass SmallStar {\n  constructor (game) {\n    this.game = game\n    this.keyboard = new Keyboarder()\n    this.center = {\n      x: Math.floor(Math.random() * 550),\n      y: Math.floor(Math.random() * 550)\n    }\n    this.size = {\n      x: 1,\n      y: 1\n    }\n  }\n  draw () {\n    this.game.context.fillStyle = 'white'\n    this.game.context.fillRect(this.center.x, this.center.y, this.size.x, this.size.y)\n  }\n  update () {\n    this.center.y += 0.2\n    if (this.center.y >= 530) { this.center.y = 0; this.center.x = Math.floor(Math.random() * 550) }\n    if (this.keyboard.isDown(Keyboarder.KEYS.UP)) {\n      this.center.y += 0.5\n    }\n  }\n}\nexport default SmallStar\n","import Keyboarder from './keyboarder'\n\nclass Star {\n  constructor (game) {\n    this.game = game\n    this.center = {\n      x: Math.floor(Math.random() * 550),\n      y: Math.floor(Math.random() * 550)\n    }\n    this.keyboard = new Keyboarder()\n    this.size = {\n      x: 4,\n      y: 4\n    }\n  }\n  draw () {\n    this.game.context.fillStyle = 'white'\n    this.game.context.fillRect(this.center.x, this.center.y, this.size.x, this.size.y)\n  }\n  update () {\n    this.center.y += 1\n    if (this.keyboard.isDown(Keyboarder.KEYS.UP)) {\n      this.center.y += 1\n    }\n    if (this.keyboard.isDown(Keyboarder.KEYS.DOWN)) {\n      this.center.y -= 0.25\n    }\n    if (this.center.y >= 530) { this.center.y = 0; this.center.x = Math.floor(Math.random() * 550) }\n  }\n}\nexport default Star\n","class Invaders {\n  constructor (game) {\n    this.game = game\n    this.center = {\n      x: Math.floor(Math.random() * 550),\n      y: 10\n    }\n    this.speed = Math.random() * 3 + 2\n    this.size = {\n      x: 20,\n      y: 20\n    }\n  }\n  update () {\n    this.center.y += this.speed + 0\n    if (this.center.y >= 530) {\n      this.center.y = 0\n      this.center.x = Math.floor(Math.random() * 550)\n      this.speed = Math.random() * 4 + 1\n    }\n  }\n  draw () {\n    this.game.context.fillStyle = 'red'\n    this.game.context.fillRect(this.center.x, this.center.y, this.size.x, this.size.y)\n  }\n}\nexport default Invaders\n","// import Keyboarder from './keyboarder'\nimport Player from './Player'\n// import { screenSize, canvas } from './constants'\nimport SmallStar from './SmallStar'\nimport Star from './Star'\nimport Invaders from './invaders'\n\nfunction startGame () {\n  let game = new Game('game-canvas')\n  game.start()\n}\n\nclass Game {\n  constructor (canvasId) {\n    this.canvas = document.getElementById(canvasId)\n    this.context = this.canvas.getContext('2d')\n    this.size = { width: this.canvas.width, height: this.canvas.height }\n    this.player = new Player(this)\n    this.invaders = []\n    for (var i = 0; i < 10; i++) {\n      this.invaders.push(new Invaders(this))\n    }\n    this.star = []\n    for (var i = 0; i < 25; i++) {\n      this.star.push(new Star(this))\n    }\n    this.smallstar = []\n    for (var i = 0; i < 25; i++) {\n      this.smallstar.push(new SmallStar(this))\n    }\n    this.ticks = 0\n\n    let tick = () => {\n      this.ticks++\n      this.update()\n      this.draw()\n      window.requestAnimationFrame(this.tick.bind(this))\n    }\n    this.tick = tick\n  }\n  start () {\n    this.tick()\n  }\n  update () {\n    this.player.update()\n    this.invaders.forEach(function (invaders) {\n      invaders.update()\n    })\n    this.star.forEach(function (star) {\n      star.update()\n    })\n    this.smallstar.forEach(function (smallstar) {\n      smallstar.update()\n    })\n  }\n  draw () {\n    this.context.clearRect(0, 0, this.size.width, this.size.height)\n    this.star.forEach(function (star) {\n      star.draw()\n    })\n    this.smallstar.forEach(function (smallstar) {\n      smallstar.draw()\n    })\n    this.player.draw()\n    this.invaders.forEach(function (invaders) {\n      invaders.draw()\n    })\n  }\n}\nstartGame()\nexport default Game\n"]}